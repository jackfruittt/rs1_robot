# minimal_static_environment.yaml
# For use with your existing mission_waypoints.yaml
# Use this if your Gazebo world has no physical obstacles

# Mark your final waypoint positions as navigable landmarks
# These are REFERENCE POINTS, not obstacles (low cost, small radius)
landmarks:
  - name: "brown_patrol_final"
    position: [-11.266300, -9.183030, 5.0]
    radius: 0.3       # Small marker
    height: 1.0
    cost: 50          # Very low cost = easily navigable
    type: "reference"
    recognition_radius: 2.0  # How close drone needs to be to "find" it
    
  - name: "light_green_patrol_final"
    position: [12.489800, -5.505170, 5.0]
    radius: 0.3
    height: 1.0
    cost: 50
    type: "reference"
    recognition_radius: 2.0
    
  - name: "green_patrol_final"
    position: [8.213530, -16.845200, 5.0]
    radius: 0.3
    height: 1.0
    cost: 50
    type: "reference"
    recognition_radius: 2.0
    
  - name: "diagonal_sweep_final"
    position: [5.0, -5.0, 8.0]
    radius: 0.3
    height: 1.0
    cost: 50
    type: "reference"
    recognition_radius: 2.0
    
  - name: "figure_eight_final"
    position: [6.0, -6.0, 10.0]
    radius: 0.3
    height: 1.0
    cost: 50
    type: "reference"
    recognition_radius: 2.0

# If you have NO physical obstacles in Gazebo, leave this empty
static_obstacles: []

# Optional: Define no-fly zones for safety
no_fly_zones:
  # Prevent drones from flying too high
  - name: "altitude_ceiling"
    bounds:  # Covers entire world
      - [-35.0, -35.0]
      - [35.0, -35.0]
      - [35.0, 35.0]
      - [-35.0, 35.0]
    min_height: 48.0  # Don't fly above 48m
    max_height: 50.0
    cost: 254  # Lethal

# World configuration
world_boundaries:
  x_min: -35.0
  x_max: 35.0
  y_min: -35.0
  y_max: 35.0
  z_min: 0.0
  z_max: 50.0

# Costmap configuration
costmap_config:
  resolution: 0.5        # meters per cell
  length_x: 70.0        # total width in meters
  length_y: 70.0        # total height in meters
  max_altitude: 50.0    # maximum flight altitude
  altitude_resolution: 5.0  # Z-slice spacing
  
  # Safety parameters for drone-to-drone avoidance
  default_safety_radius: 2.5    # Base safety bubble around each drone
  velocity_safety_factor: 0.15  # Additional radius per m/s velocity
  
  # Update rates
  update_rate: 10.0     # Hz - how often to update costmap
  
# Sensor processing configuration  
sensor_config:
  lidar_max_range: 25.0           # Maximum lidar range to process
  lidar_min_range: 0.2            # Minimum lidar range to process
  obstacle_clustering_threshold: 0.8  # Distance to group lidar points
  landmark_recognition_threshold: 2.0 # Distance to recognize landmarks
  detection_timeout: 8.0          # How long to keep detections
  min_obstacle_size: 0.15         # Minimum obstacle size to track
  max_obstacle_size: 8.0          # Maximum obstacle size to track

# NOTE: The main value of this system is:
# 1. DRONE-TO-DRONE avoidance - Even with no static obstacles, 
#    drones will avoid each other's safety bubbles in real-time!
# 2. LANDMARK recognition - Drones can identify and navigate to 
#    known reference points using their sensors
# 3. DYNAMIC obstacle detection - Unknown objects detected by sensors
#    are temporarily added to the costmap for avoidance